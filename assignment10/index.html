<!DOCTYPE html>
<html>
<head>
	<title>API Fun!</title>
	
	<script>
		// Function: getAPI()
		// Purpose: This function uses get and XMLHttpRequest() to request the API, open it, and print the data on the page.
		// Description: This function creates a request variable that declares a new XMLHttpsRequest. It performs this request when
		// 				the page is loaded. If the page is at a ready state the function will request the data from the API and print it
		//				to the request div. If it not ready then there will be a status error. Finally, if the ready state was ignored
		//				this error will be printed as well. The function uses the open function to get the public API I choose and the
		//				send function to print it to the page.
		// Input: N/a
		// Output: N/a
		function getAPI(){
			var ajaxRequest = new XMLHttpRequest();
			ajaxRequest.onreadystatechange = function(){
			
				if(ajaxRequest.readyState == 4){
					//the request is completed, now check its status
					if(ajaxRequest.status == 200){
						document.getElementById("request").innerHTML = ajaxRequest.responseText;
					}
					else{
						console.log("Status error: " + ajaxRequest.status);
					}
				}
				else{
					console.log("Ignored readyState: " + ajaxRequest.readyState);
				}
			
			
			}
			ajaxRequest.open('GET', 'https://random-words-api.vercel.app/word');
			ajaxRequest.send();
	    }

		// Function: useFetch()
		// Purpose: This function uses the new fetch to request the API, open it, and print the data on the page.
		// Description: I created a variable for the url that has the public API I am using. It uses the fetch function to get the url
		// 				and then process the response to print it to the withFetch div in json text format.
		// 
		// Input: N/a
		// Output: N/a
		function useFetch() {
			let url = 'https://random-words-api.vercel.app/word';
			fetch(url)
			.then(function(response) {
				return response.text();
			})
			.then(function(text) {
				document
				.getElementById('withFetch')
				.innerText = text;
			});
    	}
	
	</script>	
</head>
<body onload="getAPI(), useFetch()">
	<p id="request"></p>
    <p id="withFetch"></p>
	<div>The API I selected randomly generates an English word with its pronunciation. </br>
        I got this API from: https://github.com/public-apis/public-apis </br>
        For the two request API options, first I created a var for a new XMLHttpRequest that 
        requested the API when the page was ready. It used get to open and display the API. The
        other option I choose for the API was fetch which gets the API and converts it to text 
        then displays it on the page.
        This API would be helpful on a thesarus website or a vocabularly learning site.
    </div>
</body>
</html>