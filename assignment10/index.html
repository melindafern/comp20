<!DOCTYPE html>
<html>
<head>
	<title>API Fun!</title>
	
	<script>
		function getAPI(){
			var ajaxRequest = new XMLHttpRequest();
			ajaxRequest.onreadystatechange = function(){
			
				if(ajaxRequest.readyState == 4){
					//the request is completed, now check its status
					if(ajaxRequest.status == 200){
						document.getElementById("request").innerHTML = ajaxRequest.responseText;
					}
					else{
						console.log("Status error: " + ajaxRequest.status);
					}
				}
				else{
					console.log("Ignored readyState: " + ajaxRequest.readyState);
				}
			
			
			}
			ajaxRequest.open('GET', 'https://random-words-api.vercel.app/word');
			ajaxRequest.send();
	    }

        function useFetch() {
            const fetchPromise =
                    fetch('https://random-words-api.vercel.app/word');

            fetchPromise.then(convertToText);
            }
            
            function convertToText(response) {
            
            let textPromise = response.text();

            textPromise.then(addTextToPage);
            }
            
            function addTextToPage(text){
            document
                .getElementById('withFetch')
                .innerText = text;      
        }
	
	</script>	
</head>
<body onload="getAPI(), useFetch()">
	<p id="request"></p>
    <p id="withFetch"></p>
	<div>The API I selected randomly generates an English word with its pronunciation. </br>
        I got this API from: https://github.com/public-apis/public-apis </br>
        For the two request API options, first I created a var for a new XMLHttpRequest that 
        requested the API when the page was ready. It used get to open and display the API. The
        other option I choose for the API was fetch which gets the API and converts it to text 
        then displays it on the page.
        This API would be helpful on a thesarus website or a vocabularly learning site.
    </div>
</body>
</html>